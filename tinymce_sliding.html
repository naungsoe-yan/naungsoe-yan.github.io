<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Student Learning Space</title>
  <style>
    button {
      padding: .375rem .75rem;
    }
    .rich-text-editor {
      border: 1px solid #ddd;
    }
    .rich-text-editor .editor-body {
      background-color: #fff;
      overflow-x: hidden;
      overflow-y: auto;
      max-height: 6rem;
      min-height: 3rem;
      outline: none;
    }
    .rich-text-editor .editor-body::before {
      margin: .5rem;
    }
    .rich-text-editor .editor-body p {
      margin: .5rem;
    }
  </style>
</head>
<body style="padding: 1rem 2rem; margin: auto; max-width: 800px;">
  <button type="button" class="content-popup">Content Popup</button>
  <button type="button" class="content-sticky">Content Sticky</button>
  <section>
    <h1 style="font-family: sans-serif;">Question</h1>
    <p style="font-family: sans-serif;">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus.</p>
    <div id="editor_1" class="rich-text-editor">
      <div class="editor-toolbar"></div>
      <div class="editor-body"></div>
    </div>
  </section>
  <br/>
  <section>
    <h1 style="font-family: sans-serif;">Question</h1>
    <p style="font-family: sans-serif;">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus.</p>
    <div id="editor_2" class="rich-text-editor">
      <div class="editor-toolbar"></div>
      <div class="editor-body"></div>
    </div>
  </section>
  <br/>
  <section>
    <h1 style="font-family: sans-serif;">Question</h1>
    <p style="font-family: sans-serif;">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus.</p>
    <div id="editor_3" class="rich-text-editor">
      <div class="editor-toolbar"></div>
      <div class="editor-body"></div>
    </div>
  </section>
  <section class="content-popup-section" style="display: none; background: #eee; padding: 1rem; position: absolute; top: 12rem; left: 2rem; right: 2rem;">
    <div style="font-family: sans-serif; font-weight: bold; margin-bottom: 1rem;">Question</div>
    <div id="content_popup" class="rich-text-editor">
      <div class="editor-toolbar"></div>
      <div class="editor-body"></div>
    </div>
    <div style="margin-top: 1rem;">
      <button type="button">Submit</button>
      <button type="button">Cancel</button>
    </div>
  </section>
  <section class="content-sticky-section" style="display: none; background: #eee; padding: 1rem; position: sticky; bottom: 0;">
    <div style="font-family: sans-serif; font-weight: bold; margin-bottom: 1rem;">Question</div>
    <div id="content_sticky" class="rich-text-editor">
      <div class="editor-toolbar"></div>
      <div class="editor-body"></div>
    </div>
    <div style="margin-top: 1rem;">
      <button type="button">Submit</button>
      <button type="button">Cancel</button>
    </div>
  </section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.3.2/tinymce.min.js" referrerpolicy="origin"></script>
  <script>
    const contentPopup = document.querySelector('.content-popup');
    contentPopup.addEventListener("click", function() {
      const section = document.querySelector('.content-popup-section');
      if (section.style.display === 'none') {
        section.style.display = '';
        tinymce.get("mce_4").focus();
      } else {
       section.style.display = 'none';
      }
    }, false);

    const contentSticky = document.querySelector('.content-sticky');
    contentSticky.addEventListener("click", function() {
      const section = document.querySelector('.content-sticky-section');
      if (section.style.display === 'none') {
        section.style.display = '';
        tinymce.get("mce_5").focus();
      } else {
       section.style.display = 'none';
      }
    }, false);

    const elements = Array.from(document.querySelectorAll('.rich-text-editor'));
    elements.forEach(element => {
      const editorId = element.getAttribute('id');
      tinymce.init({
        selector: `#${editorId} .editor-body`,
        fixed_toolbar_container: `#${editorId} .editor-toolbar`,
        contextmenu: false,
        contextmenu_never_use_native: false,
        plugins: 'print preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap emoticons tiny_mce_wiris',
        menubar: false,
        inline: true,
        toolbar_mode: 'sliding',
        toolbar: 'undo redo | bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright alignjustify | numlist bullist | fontselect formatselect | attachment recording link media table | drawing tiny_mce_wiris_formulaEditor tiny_mce_wiris_formulaEditorChemistry',
        mobile: {
           toolbar_mode: 'sliding',
           plugins: 'print preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap emoticons tiny_mce_wiris',
           toolbar: 'undo redo | bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright alignjustify | numlist bullist | fontselect formatselect | attachment recording link media table | drawing tiny_mce_wiris_formulaEditor tiny_mce_wiris_formulaEditorChemistry'
        },
        placeholder: 'Enter your answer here...',
        external_plugins: {
          tiny_mce_wiris: 'https://naungsoe-yan.github.io/tiny_mce_wiris/plugin.js'
        },
        setup: (editor) => {
          editor.ui.registry.addIcon('attachment', '<svg height="14pt" viewBox="-96 0 512 512" width="14pt" xmlns="http://www.w3.org/2000/svg"><path d="m160 512c-88.234375 0-160-71.765625-160-160v-224c0-11.796875 9.558594-21.332031 21.332031-21.332031 11.777344 0 21.335938 9.535156 21.335938 21.332031v224c0 64.683594 52.628906 117.332031 117.332031 117.332031s117.332031-52.648437 117.332031-117.332031v-234.667969c0-41.171875-33.492187-74.664062-74.664062-74.664062-41.175781 0-74.667969 33.492187-74.667969 74.664062v213.335938c0 17.640625 14.355469 32 32 32s32-14.359375 32-32v-202.667969c0-11.796875 9.558594-21.332031 21.332031-21.332031 11.777344 0 21.335938 9.535156 21.335938 21.332031v202.667969c0 41.171875-33.496094 74.664062-74.667969 74.664062s-74.667969-33.492187-74.667969-74.664062v-213.335938c0-64.679687 52.628907-117.332031 117.335938-117.332031 64.703125 0 117.332031 52.652344 117.332031 117.332031v234.667969c0 88.234375-71.765625 160-160 160zm0 0"/></svg>');
          editor.ui.registry.addMenuButton('attachment', {
            icon: 'attachment',
            fetch: function (callback) {
              callback([
                {
                  type: 'menuitem',
                  text: 'Upload file',
                  onAction: function () {}
                },
                {
                  type: 'menuitem',
                  text: 'Add from Library',
                  onAction: function () {}
                }
              ]);
            }
          });
          editor.ui.registry.addIcon('recording', '<svg enable-background="new 0 0 512 512" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg"><g><path d="m241 420.323v61.677h-90v30h210v-30h-90v-61.677c67.33-6.042 122.865-52.795 142.411-114.813l-28.612-9.018c-17.817 56.528-69.577 94.508-128.799 94.508s-110.982-37.98-128.799-94.509l-28.612 9.018c19.525 61.95 75.011 108.765 142.411 114.814z"/><path d="m256 361c57.897 0 105-47.103 105-105v-150c0-58.449-47.103-106-105-106s-105 47.551-105 106v150c0 57.897 47.103 105 105 105zm-75-180h45v-30h-45v-30h45v-30h-43.526c6.892-34.746 37.238-61 73.526-61s66.634 26.254 73.526 61h-43.526v30h45v30h-45v30h45v30h-150zm0 60h150v15c0 41.355-33.645 75-75 75s-75-33.645-75-75z"/></g></svg>');
          editor.ui.registry.addButton('recording', {
            icon: 'recording',
            onAction: function() {}
          });
          editor.ui.registry.addButton('drawing', {
            icon: 'color-picker',
            onAction: function() {}
          });
        }
      });
    });
  </script>
</body>
</html>